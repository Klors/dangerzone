var DangerZone,dz;(function(n){var t=function(){function n(){this.init()}return n.prototype.init=function(){$(window).on("load.tessellate",function(){$("img.tessellate").each(function(){var t=$(this).height(),i=$(this).width(),n=$(this).attr("src"),o=$(this).data("tessellate-altimg"),p=typeof o!="undefined"&&o!==null&&o!==""&&n.lastIndexOf("/")!==-1?n.replace(n.substring(n.lastIndexOf("/")+1),$(this).data("tessellate-altimg")):n,c=$(this).data("tessellate-type")==="fixed",r=parseInt($(this).data("tessellate-size"),10),s=isNaN(r)||r===0?r=c?20:5:r,u=c?s:t<i?Math.ceil(t/s):Math.ceil(i/s),l=30,f,e;$(this).wrap('<div class="tessellated" style="height: '+t+"px; width: "+i+'px;" data-tessellate-srcimg="'+p+'" data-tessellate-altimg="'+n+'"><\/div>');var a=$(this).parent(),v=0,h=0,y=0;for(f=0;f<t;f+=u,y+=10,h=0,v+=l+y){for(e=0;e<i;e+=u,h+=l)a.append($('<div class="tile" style="background-image: url('+n+"); background-position: -"+e+"px -"+f+"px; width: "+u+"px; height: "+u+"px; -webkit-animation-delay:"+(v+h)+'ms;"><\/div>'));a.append("<br/>")}$(this).remove()});$("div.tile").on("webkitAnimationEnd",function(){$(this).css({"-webkit-animation-play-state":"paused"}),$(this).css({"-webkit-animation-name":$(this).css("-webkit-animation-name")==="flipover"?"flipback":"flipover"}),$(this).css("-webkit-animation-name")==="flipback"&&($(this).addClass("nodelay"),$(this).css({"background-image":"url("+$(this).parent().data("tessellate-altimg")+")","-webkit-animation-play-state":"running"}),$(this).parent())})})},n.prototype.Flip=function(n){$(".tessellated").each(function(){var n=$(this).data("tessellate-altimg");$(this).data("tessellate-altimg",$(this).data("tessellate-srcimg")),$(this).data("tessellate-srcimg",n)});var t=typeof n!="undefined"&&n!==null&&n!==""?n+">div.tile":"div.tile";$(t).removeClass("nodelay"),$(t).css({"-webkit-animation-play-state":"running","-moz-animation-play-state":"running","-o-animation-play-state":"running","animation-play-state":"running"})},n}();n.Tessellation=t})(DangerZone||(DangerZone={})),dz={t:new DangerZone.Tessellation}